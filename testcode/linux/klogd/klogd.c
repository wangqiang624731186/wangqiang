/*******************************************************************************
    \file          klogd.c
    \author        wangqiang
    \mail          wangqiang@auto-link.com
    \version       0.1
    \date          2016-04-13 09:22
*******************************************************************************/

/*******************************************************************************
    Include Files
*******************************************************************************/
#include<stdio.h>
#include<stdlib.h>
#include <sys/klog.h>
/*******************************************************************************
    Type Definition
*******************************************************************************/

/*******************************************************************************
    Function  Definition
*******************************************************************************/

int main()
{
    char buf[1024*1024];
    klogctl(1, NULL, 0);
   // int len = klogctl(10, NULL, 0);
   // printf("%d\n",len);
    int len1; 
   // len= klogctl(3, buf, 1024*1024);
  //  printf("%d %s",len1 ,buf);

    while(1)
    {
        sleep(5);
        len1 = klogctl(2, buf, 10);
        printf("%d %s",len1 ,buf);
    //    sleep(5);
    }
    return 0;
}
